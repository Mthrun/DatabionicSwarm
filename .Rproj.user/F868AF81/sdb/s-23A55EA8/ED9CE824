{
    "collab_server" : "",
    "contents" : "## Projektionsdaten aus 22PrecisionRecall.R\n#####################################################################\nsetwd(out)\nload(file='Chainlink')\nout=ReDi('WissenAusDaten2014/12cPswarm/11Comparison')\nj=1\nCls=FCPS$Chainlink$Cls\nData=FCPS$Chainlink$Data\npoints=Output[[j]]\n#k=4\nmax(points[,1])\nmax(points[,2])\ndel=Delaunay4Points(points,T,c(64,64))\n#del=Delaunay4Points(points,F)\nDist=DistanceMatrix(Data)*del$Delaunay\nind=which(Dist==0,arr.ind=T)\nDist[ind]=NaN\nerror=0\nfor(i in 1:nrow(Data)){\n  ind=order(Dist[,i],decreasing = F,na.last = T)\n  n=sum(!is.nan(Dist[,i]))\n  cc=Cls[ind[1:n]]\n  error=error+1-ClsToTrueCls(cc,rep(cc[1],n))$accuracy\n  #c1=Cls[ind[1]]\n  #c2=Cls[ind[2]]\n  # if(c1!=c2)\n  #error=error+1\n}\nerror\nk=8\ne=rep(NaN,6)\ne[1]=sum(DelaunayClassificationError(FCPS$Chainlink$Data,Output[[1]],FCPS$Chainlink$Cls,k,c(64,64)))\n\ne[2]=sum(DelaunayClassificationError(FCPS$Chainlink$Data,Output[[2]],FCPS$Chainlink$Cls,k))\n\ne[3]=sum(DelaunayClassificationError(FCPS$Chainlink$Data,Output[[3]],FCPS$Chainlink$Cls,k))\n\ne[4]=sum(DelaunayClassificationError(FCPS$Chainlink$Data,Output[[4]],FCPS$Chainlink$Cls,k))\n\n\ne[5]=sum(DelaunayClassificationError(FCPS$Chainlink$Data,Output[[5]],FCPS$Chainlink$Cls,k))\n#esompp=esom(FCPS$Chainlink$Data,Lines = 50,Columns = 80)$Bestmatches\n#Output[[6]]=esompp\ne[6]=sum(DelaunayClassificationError(FCPS$Chainlink$Data,Output[[6]],FCPS$Chainlink$Cls,k,c(80,50)))\n\nload(file='Hepta')\ne=rep(NaN,6)\ne[1]=sum(DelaunayClassificationError(FCPS$Hepta$Data,Output[[1]],FCPS$Hepta$Cls,k,c(52,60)))\n\ne[2]=sum(DelaunayClassificationError(FCPS$Hepta$Data,Output[[2]],FCPS$Hepta$Cls,k))\n\ne[3]=sum(DelaunayClassificationError(FCPS$Hepta$Data,Output[[3]],FCPS$Hepta$Cls,k))\n\ne[4]=sum(DelaunayClassificationError(FCPS$Hepta$Data,Output[[4]],FCPS$Hepta$Cls,k))\ne[5]=sum(DelaunayClassificationError(FCPS$Hepta$Data,Output[[5]],FCPS$Hepta$Cls,k))\nesompp=esom(FCPS$Hepta$Data,Lines = 50,Columns = 80)$Bestmatches\nOutput[[6]]=esompp\ne[6]=sum(DelaunayClassificationError(FCPS$Hepta$Data,Output[[6]],FCPS$Hepta$Cls,k,c(80,50)))\nbar(e)\n\n#setwd(ReDi('WissenAusDaten2014/12cPswarm/01Transformierte'))\n#load(file='optdigitsTrainingPswarm')\n\nfilenames=names[101:200]\nerror=c()\nfor(k in 1:100){\n  Proj=ReadLRN(filenames[k],path)$Data\n  #error=ClassificationError(Proj,FCPS$Chainlink$Cls)\n  error=c(error,sum(DelaunayClassificationError(FCPS$Chainlink$Data,Proj,FCPS$Chainlink$Cls,8,c(64,64))))\n  \n}\n\nnervhepta=list()\nerror3=c()\nfor(k in 1:100){\n  Proj3=NeRV(FCPS$Hepta$Data,lambda = 1/k)\n  nervhepta[[k]]=Proj3\n  #error=ClassificationError(Proj,FCPS$Chainlink$Cls)\n  error3=c(error3,sum(DelaunayClassificationError(FCPS$Hepta$Data,Proj3,FCPS$Hepta$Cls,8)))\n  \n}\n\n#######################\nindir=ReDi('WissenAusDaten2014/15Clusterung/01Transformierte/DataBased100')\nnames=list.files(indir)\nsetwd(ReDi('WissenAusDaten2014/12cPswarm/12ProjectionError'))\nFmins4000=FCPS[-c(3,4)]\nLCv=c(38,40)\ni=3\nfilenames=names[201:300]\nHeptaShifted=list()\nHeptaErrorShifted=list()\nfor(k in 1:100){\n   Proj=ReadLRN(filenames[k],indir)$Data\n   res=GeneratePswarmVisualization(FCPS$Hepta$Data,Proj,LC = LCv,ComputeInR = T)\n   idealIsland = bestUmatrixTranslation(res$Umatrix, res$Bestmatches)\n   V=shiftedUmatrix(idealIsland$lines, idealIsland$cols, res$Umatrix, res$Bestmatches) \n   HeptaShifted[[k]]=V$Bestmatches[,2:3]\n   HeptaErrorShifted[[k]]=DelaunayClassificationError(FCPS$Hepta$Data,HeptaShifted[[k]],FCPS$Hepta$Cls,k=8)\n}\nsave(file='HeptaSwarnmShifted.rda',HeptaShifted,HeptaErrorShifted)\nLCv=c(58,60)\ni=1\nfilenames=names[1:101]\nAtomShifted=list()\nAtomErrorShifted=list()\nfor(k in 14:100){\n  Proj=ReadLRN(filenames[k],indir)$Data\n  res=GeneratePswarmVisualization(FCPS$Atom$Data,Proj,LC = LCv,ComputeInR = T)\n  idealIsland = bestUmatrixTranslation(res$Umatrix, res$Bestmatches)\n  V=shiftedUmatrix(idealIsland$lines, idealIsland$cols, res$Umatrix, res$Bestmatches) \n  AtomShifted[[k]]=V$Bestmatches[,2:3]\n  AtomErrorShifted[[k]]=DelaunayClassificationError(FCPS$Atom$Data,AtomShifted[[k]],FCPS$Atom$Cls,k=8)\n}\nsave(file='AtomSwarnmShifted.rda',AtomShifted,AtomErrorShifted)\n#WriteLRN(paste0('Tau',names(Fmins4000)[i],'PswarmWeighted'),Data = unlist(res),OutDirectory = out,Key=c())\n#############################################################################\n######\n#############################################################################\nsetwd(ReDi('WissenAusDaten2014/12cPswarm/12ProjectionError'))\nload(file='HeptaSwarnmShifted.rda')\n\ntest=mean(unlist(lapply(HeptaErrorShifted,sum)))\nload('HeptaError')\nbarplot(c(Pswarm=mean(SwarmError100),CCA=mean(CCAerror100),PCA=pcaerror,Sammons=sammonerror,NeRV=nervreserror,tSNE=tsnerrorerror),main='Hepta',ylab='DelaunayNeighboorhood Classification Error')\n\nbarplot(c(Pswarm=mean(unlist(lapply(HeptaErrorShifted,sum))),CCA=mean(CCAerror100),PCA=pcaerror,Sammons=sammonerror,NeRV=nervreserror,tSNE=tsnerrorerror),main='Hepta',ylab='DelaunayNeighboorhood Classification Error')\n\nToroidHeptaErrorShifted=list()\nfor(k in 1:100){\n  ToroidHeptaErrorShifted[[k]]=DelaunayClassificationError(FCPS$Hepta$Data,HeptaShifted[[k]],FCPS$Hepta$Cls,k=8,LC = c(40,38))\n}\n\nbarplot(c(Pswarm=mean(unlist(lapply(ToroidHeptaErrorShifted,sum))),CCA=mean(CCAerror100),PCA=pcaerror,Sammons=sammonerror,NeRV=nervreserror,tSNE=tsnerrorerror),main='Hepta',ylab='DelaunayNeighboorhood Classification Error')\n########\n\nload(file='AtomSwarnmShifted.rda')\n\nmean(unlist(lapply(AtomErrorShifted,sum)))\n\nbarplot(c(Pswarm=mean(unlist(lapply(AtomErrorShifted,sum))),CCA=mean(CCAerror100),PCA=pcaerror,Sammons=sammonerror,NeRV=nervreserror,tSNE=mean(TSNEerror100)),main='Atom',ylab='DelaunayNeighboorhood Classification Error')\n\nbarplot(c(Pswarm=PswarmAtomerror,CCA=mean(CCAerror100),PCA=pcaerror,Sammons=sammonerror,NeRV=nervreserror,tSNE=mean(TSNEerror100)),main='Atom',ylab='DelaunayNeighboorhood Classification Error')\n",
    "created" : 1467017285551.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2489150267",
    "id" : "ED9CE824",
    "lastKnownWriteTime" : 1467028681,
    "last_content_update" : 1467028681733,
    "path" : "D:/Subversion/PRO/Research/WissenAusDaten2014/12cPswarm/08AnalyseProgramme/23TesteDelaunayClassificationError.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}